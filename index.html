<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Clicks for Fics</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3" defer></script>
</head>
<body>
    <header id="header">
        <a href="#" id="home-link" onclick="showHomePage()">Clicks for Fics</a>
        <div>
            <a href="#" id="relationship-btn" onclick="showPage('relationships')">Relationships</a>
            <a href="#" id="tag-btn" onclick="showPage('tags')">Additional Tags</a>
        </div>
    </header>
    <div id="main-content">
        <div id="home-page">
            <h1>Welcome to Clicks for Fics</h1>
            <p>Your ultimate source for fan fiction data visualization.</p>
            <div id="home-page-btns">
                <button onclick="showPage('relationships')">Relationships</button>
                <button onclick="showPage('tags')">Additional Tags</button>
            </div>
        </div>
        <div id="relationships-visualization">
            <div id="change-data">
                <div id="fandom-buttons">
                    <button id="Overall" onclick="loadData('/data/Overall.json', 'Overall'); setActiveButton(this);">Overall</button>
                    <button id="Marvel" onclick="loadData('/data/Marvel.json', 'Marvel'); setActiveButton(this);">Marvel</button>
                    <button id="Harry-Potter" onclick="loadData('/data/Harry_Potter_Relationships.json', 'Harry Potter'); setActiveButton(this);">Harry Potter</button>
                    <button id="Boku-No-Hero" onclick="loadData('/data/Boku_No_Hero.json', 'Boku No Hero'); setActiveButton(this);">Boku No Hero</button>
                </div>
                <div id="stickyTooltip" style="position: sticky;">
                    Tooltip Information
                </div>
                <div id="btns-right">
                    <div id="toggle-relationship-container">
                        <label class="switch">
                            <input type="checkbox" id="toggle-relationship-checkbox" onchange="updateRelationshipType(this.checked ? 'friendship' : 'romantic')">
                            <span class="slider round">
                                <span class="slider-text romantic">Romantic</span>
                                <span class="slider-text friendship">Friendship</span>
                            </span>
                        </label>
                    </div>
                    <button id="show-info" onclick="togglePopup('popup-relationships')">?</button>
                </div>
            </div>
            <div id="frequency-scale">
                <p>Frequency Scale:</p>
                <p>High</p>
                <div style="background: linear-gradient(to right, black, white);"></div>
                <p>Low</p>
            </div>
        </div>
        <div id="tags-visualization" >
            <div id="banner-container-1"></div>
            <div id="tag-buttons">
              <div></div>
              <div>
                <button id="Overall" onclick="loadTagData('/data/Additional_Tags_Overall.csv', 'Overall'); setActiveButton(this);">Overall</button>
                <button id="Marvel" data-fandom="Marvel" onclick="loadTagData('/data/Additional_Tags_Marvel.csv', 'Marvel'); setActiveButton(this);">Marvel</button>
                <button id="Harry-Potter" onclick="loadTagData('/data/Additional_Tags_Harry_Potter.csv', 'Harry Potter'); setActiveButton(this);">Harry Potter</button>
                <button id="Boku-No-Hero" onclick="loadTagData('/data/Additional_Tags_Boku_No_Hero.csv', 'Boku No Hero'); setActiveButton(this);">Boku No Hero</button>
              </div>
              <button id="show-info" onclick="togglePopup('popup-tags')">?</button>
            </div>
            <div id="banner-container-2" ></div>
        </div>
    </div>
    <div id="popup-relationships" class="popup">
        <div class="popup-content">
            <span class="close" onclick="togglePopup('popup-relationships')">&times;</span>
            <h2>Relationships Information</h2>
            <p>Hier die Informationen zu Relationships...</p>
        </div>
    </div>
    <div id="popup-tags" class="popup">
        <div class="popup-content">
            <span class="close" onclick="togglePopup('popup-tags')">&times;</span>
            <h2>Tags Information</h2>
            <p>Hier die Informationen zu Tags...</p>
        </div>
    </div>
    <script type="text/javascript">
        function togglePopup(id) {
            const popup = document.getElementById(id);
            if (popup.style.display === "none" || popup.style.display === "") {
                popup.style.display = "flex";
            } else {
                popup.style.display = "none";
            }
        }

        function showPage(page) {
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('relationships-visualization').style.display = 'none';
            document.getElementById('tags-visualization').style.display = 'none';

            if (page === 'relationships') {
                document.getElementById('relationships-visualization').style.display = 'block';
                togglePopup('popup-relationships'); // Popup anzeigen
            } else if (page === 'tags') {
                document.getElementById('tags-visualization').style.display = 'block';
                togglePopup('popup-tags'); // Popup anzeigen
            }
        }
    </script>
    <script src="main.js" type="module"></script>
    <script type="module">
        import { relationshipsSketch } from './relationships.js';
        import { tagsSketch } from './tags.js';
        window.relationshipsSketch = relationshipsSketch;
        window.tagsSketch = tagsSketch;
        console.log(relationshipsSketch, tagsSketch);
    </script>
</body>
</html>
