<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Clicks for Fics</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3" defer></script>
    <link rel="stylesheet" href="https://use.typekit.net/xxl4ngd.css">
</head>
<body>
    <header id="header">
        <a href="#" id="home-link" onclick="showHomePage()">CLICKS FOR FICS</a>
        <div>
            <a href="#" id="relationship-btn" onclick="showPage('relationships')">RELATIONSHIPS</a>
            <a href="#" id="tag-btn" onclick="showPage('tags')">ADDITIONAL TAGS</a>
        </div>
    </header>
    <div id="main-content">
        <div id="home-page">
            <h1>WELCOME TO CLICKS FOR FICS</h1>
            <p>Your ultimate source for fan fiction data visualization.</p>
            <div id="home-page-btns">
                <button onclick="showPage('relationships')">RELATIONSHIPS</button>
                <button onclick="showPage('tags')">ADDITIONAL TAGS</button>
            </div>
        </div>
        <div id="relationships-visualization" style="display: none;">
            <div id="change-data">
                <div id="fandom-buttons">
                    <button id="Overall-relationships" onclick="loadData('/data/Overall.json', 'Overall'); setActiveButton(this);">OVERALL</button>
                    <button id="Marvel-relationships" onclick="loadData('/data/Marvel.json', 'Marvel'); setActiveButton(this);">MARVEL</button>
                    <button id="Harry-Potter-relationships" onclick="loadData('/data/Harry_Potter_Relationships.json', 'Harry Potter'); setActiveButton(this);">HARRY POTTER</button>
                    <button id="Boku-No-Hero-relationships" onclick="loadData('/data/Boku_No_Hero.json', 'Boku No Hero'); setActiveButton(this);">BOKU NO HERO</button>
                </div>
                <div id="stickyTooltip" style="position: sticky; font-size: small; font-family: 'array-mono';">
                    Tooltip Information
                </div>
                <div id="btns-right">
                    <div id="toggle-relationship-container">
                        <label class="switch">
                            <input type="checkbox" id="toggle-relationship-checkbox" onchange="updateRelationshipType(this.checked ? 'friendship' : 'romantic')">
                            <span class="slider round">
                                <span class="slider-text romantic">ROMANTIC</span>
                                <span class="slider-text friendship">FRIENDSHIP</span>
                            </span>
                        </label>
                    </div>
                    <button id="show-info" onclick="togglePopup('popup-relationships')">i</button>
                </div>
            </div>
            <div id="relationships-legend"></div> <!-- Container fÃ¼r die Relationship-Legende -->
        </div>
        <div id="tags-visualization" style="display: none;">
            <div id="banner-container-1"></div>
            <div id="tag-buttons">
              <div>
                <button id="Overall-tags" onclick="loadTagData('/data/Additional_Tags_Overall.csv', 'Overall'); setActiveButton(this);">OVERALL</button>
                <button id="Marvel-tags" data-fandom="Marvel" onclick="loadTagData('/data/Additional_Tags_Marvel.csv', 'Marvel'); setActiveButton(this);">MARVEL</button>
                <button id="Harry-Potter-tags" onclick="loadTagData('/data/Additional_Tags_Harry_Potter.csv', 'Harry Potter'); setActiveButton(this);">HARRY POTTER</button>
                <button id="Boku-No-Hero-tags" onclick="loadTagData('/data/Additional_Tags_Boku_No_Hero.csv', 'Boku No Hero'); setActiveButton(this);">BOKU NO HERO</button>
            </div>
            <div id="legend-container">
                <button id="show-info-tag" onclick="togglePopup('popup-tags')">i</button>   
            </div>
                        </div>
            <div id="banner-container-2"></div>
        </div>
    </div>
    <script type="text/javascript">
        function togglePopup(id) {
            const popup = document.getElementById(id);
            if (popup.style.display === "none" || popup.style.display === "") {
                popup.style.display = "flex";
            } else {
                popup.style.display = "none";
            }
        }

        function showPage(page) {
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('relationships-visualization').style.display = 'none';
            document.getElementById('tags-visualization').style.display = 'none';

            if (page === 'relationships') {
                document.getElementById('relationships-visualization').style.display = 'block';
                togglePopup('popup-relationships'); 
            } else if (page === 'tags') {
                document.getElementById('tags-visualization').style.display = 'block';
                togglePopup('popup-tags'); 
            }
        }
    </script>
    <script src="main.js" type="module"></script>
    <script type="module">
        import { relationshipsSketch } from './relationships.js';
        import { tagsSketch } from './tags.js';
        window.relationshipsSketch = relationshipsSketch;
        window.tagsSketch = tagsSketch;
        console.log(relationshipsSketch, tagsSketch);
    </script>
</body>
</html>